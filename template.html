<!DOCTYPE html>
<html lang="{{lang}}">
  <head>
    <link rel="canonical" href="https://lluisingles.com" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/assets/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#2563eb">
    <meta name="theme-color" content="#ffffff">
    
    <!-- SEO Meta Tags -->
    <title>{{meta.title}}</title>
    <meta name="description" content="{{meta.description}}">
    <meta name="keywords" content="Lluis Ingles, CTO, CTO Exoticca, Tech Lead, PHP Developer, AWS, Cloud Architecture, Technology Leadership">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="{{meta.title}}">
    <meta property="og:description" content="{{meta.description}}">
    <meta property="og:image" content="assets/images/lluis.png">
    <meta property="og:url" content="https://lluisingles.com">
    
    <!-- Add after Open Graph tags -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@ingleslluis" />
    <meta name="twitter:title" content="{{meta.title}}" />
    <meta name="twitter:description" content="{{meta.description}}" />
    <meta name="twitter:image" content="https://lluisingles.com/assets/images/lluis.png" />
    
    <!-- Fonts -->
    <link rel="stylesheet" href="/assets/css/fonts.css">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="alternate" hreflang="en" href="https://lluisingles.com" />
    <link rel="alternate" hreflang="ca" href="https://lluisingles.com/ca/" />
    <link rel="alternate" hreflang="x-default" href="https://lluisingles.com" />
    
    <style>
      :root {
        --bg-color: #ffffff;
        --text-color: #1a1a1a;
        --primary-color: #1a1a1a;
        --secondary-color: transparent;
        --text-secondary: #666666;
        --border-color: #666666;
        --hover-color: #f3f3f3;
        --container-padding: clamp(1rem, 5vw, 1.5rem);
        --content-width: min(100%, 680px);
      }

      [data-theme="dark"] {
        --bg-color: #1a1a1a;
        --text-color: #ffffff;
        --primary-color: #ffffff;
        --secondary-color: #333333;
        --text-secondary: #999999;
        --border-color: transparent;
        --hover-color: #404040;
      }

      /* Reset and base styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.7;
        transition: background-color 0.3s ease, color 0.3s ease;
        -webkit-font-smoothing: antialiased;
      }

      .container {
        width: var(--content-width);
        margin: 0 auto;
        padding: 0 var(--container-padding);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* Navigation */
      .navbar {
        padding: clamp(0.5rem, 2vh, 1rem) 0;
        display: flex;
        justify-content: space-between;
      }

      .theme-switch {
        background: none;
        border: none;
        color: var(--text-color);
        cursor: pointer;
        font-size: clamp(1rem, 2vw, 1.2rem);
        padding: 0.5rem;
        opacity: 0.7;
        transition: opacity 0.3s ease;
      }

      .theme-switch:hover {
        opacity: 1;
      }

      /* Main content */
      main {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      /* Hero section */
      .hero {
        text-align: center;
        padding: clamp(1rem, 4vh, 2rem) 0 0;
      }

      .profile-image {
        width: clamp(85px, 20vw, 120px);
        height: clamp(85px, 20vw, 120px);
        border-radius: 50%;
        margin-bottom: clamp(1rem, 3vh, 1.5rem);
        filter: grayscale(100%);
        transition: filter 0.3s ease;
        object-fit: cover;
      }

      .profile-image:hover {
        filter: grayscale(0%);
      }

      h1 {
        font-size: clamp(1.75rem, 5vw, 2.5rem);
        margin-bottom: clamp(0.5rem, 2vh, 1rem);
        font-weight: 700;
        line-height: 1.2;
      }

      .role {
        font-size: clamp(1rem, 3vw, 1.1rem);
        color: var(--text-secondary);
        margin-bottom: clamp(1rem, 3vh, 1.5rem);
      }

      /* About section */
      .about-section {
        font-size: clamp(0.9rem, 2.5vw, 1.1rem);
        line-height: 1.7;
        text-align: left;
      }

      .about-section p {
        margin-bottom: clamp(1rem, 3vh, 1.5rem);
        color: var(--text-secondary);
      }

      /* Skills list */
      .skills-list {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: clamp(0.5rem, 2vw, 0.75rem);
        justify-content: center;
        margin: 1rem 0;
      }

      .skills-list li {
        color: var(--text-color);
        font-size: clamp(0.8rem, 2vw, 0.9rem);
        padding: 0.5rem 1rem;
        background: var(--secondary-color);
        border: 1px solid var(--border-color);
        border-radius: 2rem;
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .skills-list li:hover {
        background: var(--hover-color);
      }

      [data-theme="dark"] .skills-list li {
        background: #333333;
      }

      /* Footer */
      footer {
        padding: 1rem 0;
        text-align: center;
        margin-top: auto;
      }

      .social-links {
        display: inline-flex;
        gap: clamp(1rem, 3vw, 1.5rem);
        background: var(--secondary-color);
        border: 1px solid var(--border-color);
        padding: clamp(0.4rem, 1.5vw, 0.5rem) clamp(0.8rem, 2.5vw, 1.2rem);
        border-radius: 2rem;
      }

      footer a {
        color: var(--text-color);
        font-size: clamp(1rem, 3vw, 1.2rem);
        width: clamp(2rem, 6vw, 2.5rem);
        height: clamp(2rem, 6vw, 2.5rem);
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        transition: all 0.3s ease;
        border-radius: 50%;
        opacity: 1;
      }

      footer a:hover {
        background: var(--hover-color);
      }

      [data-theme="dark"] .social-links {
        background: #333333;
      }

      /* Language switch */
      .language-switch {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.9rem;
      }

      .lang-link {
        color: var(--text-secondary);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .lang-link:hover {
        color: var(--text-color);
      }

      .lang-link.active {
        color: var(--text-color);
        font-weight: 500;
      }

      .lang-separator {
        color: var(--text-secondary);
      }

      /* Touch device optimizations */
      @media (hover: none) {
        .profile-image {
          filter: grayscale(0%);
        }

        .skills-list li:active,
        footer a:active {
          transform: scale(0.95);
        }
      }

      /* Print styles */
      @media print {
        body {
          color: black;
          background: white;
        }

        .theme-switch,
        .social-links {
          display: none;
        }
      }

      /* Add styles for text links */
      .about-section a {
        color: var(--text-secondary);
        text-decoration: none;
        border-bottom: 1px solid var(--border-color);
        transition: all 0.3s ease;
      }

      .about-section a:hover {
        color: var(--text-color);
        border-bottom-color: var(--text-color);
      }
    </style>

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Lluís Inglès Elias",
      "jobTitle": "Chief Technology Officer",
      "url": "https://lluisingles.com",
      "image": "https://lluisingles.com/assets/images/lluis.png",
      "description": "{{meta.description}}",
      "knowsLanguage": ["en", "ca", "es"],
      "workLocation": {
        "@type": "Place",
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "ES"
        }
      },
      "sameAs": [
        "https://es.linkedin.com/in/lluisingles",
        "https://github.com/lluisi",
        "https://twitter.com/ingleslluis"
      ],
      "alumniOf": [
        {
          "@type": "Organization",
          "name": "Vueling"
        },
        {
          "@type": "Organization",
          "name": "Trovit"
        },
        {
          "@type": "Organization",
          "name": "Exoticca"
        }
      ],
      "skills": {{skills}}
    }
    </script>
  </head>
  <body>
    <div class="container">
      <nav class="navbar">
        <div class="language-switch">
          <a href="/" class="lang-link {{#if isEn}}active{{/if}}" data-lang="en">EN</a>
          <span class="lang-separator">/</span>
          <a href="/ca/" class="lang-link {{#if isCa}}active{{/if}}" data-lang="ca">CA</a>
        </div>
        <button class="theme-switch" aria-label="{{nav.darkModeLabel}}">
          <i class="fas fa-circle-half-stroke"></i>
        </button>
      </nav>

      <main>
        <article class="hero">
          <header>
            <img src="{{#if isCa}}../{{/if}}assets/images/lluis.png" 
                 alt="Lluís Inglès Elias - {{hero.role}}" 
                 class="profile-image"
                 width="120"
                 height="120">
            <h1>Lluís Inglès Elias</h1>
            <p class="role">{{hero.role}}</p>
          </header>
          
          <section class="about-section">
            {{#each hero.about}}
              <p>{{{this}}}</p>
            {{/each}}
          </section>

          <section class="skills-section">
            <h2 class="visually-hidden">Skills</h2>
            <ul class="skills-list" aria-label="Professional skills">
              {{#each skills}}
                <li>{{this}}</li>
              {{/each}}
            </ul>
          </section>
        </article>

        <footer>
          <div class="social-links">
            <a href="https://twitter.com/ingleslluis" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter) Profile">
              <i class="fa-brands fa-x"></i>
            </a>
            <a href="https://github.com/lluisi" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
              <i class="fa-brands fa-github"></i>
            </a>
            <a href="https://es.linkedin.com/in/lluisingles" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile">
              <i class="fa-brands fa-linkedin"></i>
            </a>
          </div>
        </footer>
      </main>
    </div>

    <script>
      // Dark mode toggle functionality
      const themeSwitch = document.querySelector('.theme-switch');
      const themeSwitchIcon = themeSwitch.querySelector('i');

      function setTheme(isDark) {
        document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
        themeSwitchIcon.className = 'fas fa-circle-half-stroke';
        // Rotate the icon 180 degrees in dark mode
        themeSwitchIcon.style.transform = isDark ? 'rotate(180deg)' : 'rotate(0)';
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      }

      // Check for saved theme preference
      const savedTheme = localStorage.getItem('theme') || 
        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      setTheme(savedTheme === 'dark');

      // Theme switch event listener
      themeSwitch.addEventListener('click', () => {
        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        setTheme(!isDark);
      });
    </script>

    <!-- Clarity 
    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "pra99m2zyq");
    </script>
    -->

    <script>
      // Language switcher functionality
      document.addEventListener('DOMContentLoaded', () => {
        const langLinks = document.querySelectorAll('.lang-link');
        const currentLang = window.location.pathname.startsWith('/ca/') ? 'ca' : 'en';
        
        // Set initial language preference if not set
        if (!localStorage.getItem('preferred_lang')) {
          localStorage.setItem('preferred_lang', currentLang);
        }

        // Add click handlers to language links
        langLinks.forEach(link => {
          link.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = link.dataset.lang;
            localStorage.setItem('preferred_lang', lang);
            window.location.href = link.href;
          });
        });
      });
    </script>
  </body>
</html> 